<?xml version="1.0"?>

<!--
# SPDX-FileCopyrightText: Copyright (c) 2023 NVIDIA CORPORATION & AFFILIATES.
#                         All rights reserved.
# SPDX-License-Identifier: LicenseRef-NvidiaProprietary
#
# NVIDIA CORPORATION, its affiliates and licensors retain all intellectual
# property and proprietary rights in and to this material, related
# documentation and any modifications thereto. Any use, reproduction,
# disclosure or distribution of this material and related documentation
# without an express license agreement from NVIDIA CORPORATION or
# its affiliates is strictly prohibited.
-->

<!-- Nvidia Tegra Partition Layout Version 1.0.0 -->

<partition_layout version="01.00.0000">
  <device type="external" instance="0" sector_size="512" num_sectors="1875385008" >
    <partition name="master_boot_record" type="protective_master_boot_record">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> 512 </size>
      <file_system_attribute> 0 </file_system_attribute>
      <allocation_attribute> 8 </allocation_attribute>
      <percent_reserved> 0 </percent_reserved>
    </partition>
    <partition name="primary_gpt" type="primary_gpt">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> 19968 </size>
      <file_system_attribute> 0 </file_system_attribute>
      <allocation_attribute> 8 </allocation_attribute>
      <percent_reserved> 0 </percent_reserved>
    </partition>
    <partition name="reserved" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> 922222592 </size>
      <file_system_attribute> 0 </file_system_attribute>
      <allocation_attribute> 8 </allocation_attribute>
      <percent_reserved> 0 </percent_reserved>
      <description>
        **Required.** Reserve space in case there is any partition change
        required in the future, for example, adding new partitions or increasing size
        of some partitions.
      </description>
    </partition>
    <partition name="esp" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> @ESP_SIZE@ </size>
      <file_system_attribute> 0 </file_system_attribute>
      <partition_type_guid> C12A7328-F81F-11D2-BA4B-00A0C93EC93B </partition_type_guid>
      <allocation_attribute> 0x8 </allocation_attribute>
      <percent_reserved> 0 </percent_reserved>
      <filename> efi.img </filename>
      <description> **Required.** Contains a redundant copy of CBoot. </description>
    </partition>
    <partition name="COS_RECOVERY" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> @RECOVERY_SIZE@ </size>
      <allocation_attribute>  0x8 </allocation_attribute>
      <filename> recovery_partition.img </filename>
      <description>  </description>
    </partition>
    <partition name="COS_OEM" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> @OEM_SIZE@ </size>
      <allocation_attribute>  0x8 </allocation_attribute>
      <filename> oem.img </filename>
      <description>  </description>
    </partition>
    <partition name="COS_STATE" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> @STATE_SIZE@ </size>
      <allocation_attribute>  0x8 </allocation_attribute>
      <filename> state_partition.img </filename>
      <description>  </description>
    </partition>
    <partition name="COS_PERSISTENT" type="data">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> @PERSISTENT_SIZE@ </size>
      <allocation_attribute>  0x8 </allocation_attribute>
      <filename> persistent.img </filename>
      <description>  </description>
    </partition>
    <partition name="secondary_gpt" type="secondary_gpt">
      <allocation_policy> sequential </allocation_policy>
      <filesystem_type> basic </filesystem_type>
      <size> 0xFFFFFFFFFFFFFFFF </size>
      <file_system_attribute> 0 </file_system_attribute>
      <allocation_attribute> 8 </allocation_attribute>
      <percent_reserved> 0 </percent_reserved>
    </partition>
  </device>
</partition_layout>
